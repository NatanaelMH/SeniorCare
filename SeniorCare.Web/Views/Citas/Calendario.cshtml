@{
    ViewData["Title"] = "Calendario de Citas";
}

@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet" />
    <style>
        #calendar { max-width: 1100px; margin: 0 auto; }
        .fc-toolbar-title{ font-size: 1.6rem; }
        .fc-button { font-size: 1rem; padding: .5rem .8rem; }
    </style>
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Calendario de Citas</h2>
    <a class="btn btn-secondary btn-lg" asp-action="Index">Volver a la lista</a>
</div>

<div id="calendar"></div>

@section Scripts {

    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    <script>
        const calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {
          initialView: 'dayGridMonth',
          headerToolbar: { left: 'prev,next today', center: 'title', right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek' },
          locale: 'es',
          nowIndicator: true,
          eventTimeFormat: { hour: '2-digit', minute: '2-digit' },
          events: '@Url.Action("Eventos", "Citas")',
          eventClick: function(info){
            if (info.event.url) {
              window.location.href = info.event.url;
              info.jsEvent.preventDefault();
            }
          }
        });
        calendar.render();
    </script>
}
